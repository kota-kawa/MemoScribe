{% extends "base.html" %}
{% block title %}アシスタント - MemoScribe{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>アシスタント</h1>
        <a href="{% url 'assistant:create' %}" class="btn btn-primary">
            <i class="bi bi-plus-lg"></i> 新しい会話
        </a>
    </div>

    {% if sessions %}
    <div class="list-group">
        {% for session in sessions %}
        <a href="{% url 'assistant:session' session.pk %}" class="list-group-item list-group-item-action">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{ session.title }}</h5>
                <small class="text-muted">{{ session.updated_at|date:"Y/n/j H:i" }}</small>
            </div>
            <small class="text-muted">{{ session.messages.count }}件のメッセージ</small>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info">
        <i class="bi bi-chat-dots"></i> 会話がありません。「新しい会話」をクリックしてアシスタントに相談しましょう。
        <br><br>
        <strong>アシスタントができること:</strong>
        <ul class="mb-0">
            <li>記録したメモやログに基づいた質問への回答</li>
            <li>根拠付きのアドバイス</li>
            <li>文章の作成支援（メール、リライトなど）</li>
            <li>今日の予定提案</li>
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}
